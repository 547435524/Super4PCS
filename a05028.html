<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Super4PCS Library: Compilation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSsymbols.js", "TeX/AMSmath.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Super4PCS Library
   &#160;<span id="projectnumber">V1.1.2(b874238)</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a05028.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Compilation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Super4PCS is now supported for Linux, MacOS and Windows platforms, with continuous testing. This file reviews the following aspects:</p><ul>
<li>how to compile and install the library, tests and applications: <a href="#library">here</a></li>
<li>how to use the library in your own software: <a href="#usage">here</a></li>
<li>a note about compilation mode and performances: <a href="#perfs">here</a></li>
</ul>
<p><b>Note:</b> Super4PCS relies heavily on CMake for its compilation and use (minimum version: v3.3).</p>
<h2><a class="anchor" id="library"></a> Compiling the library, application and tests</h2>
<p>For people in a hurry: </p><div class="fragment"><div class="line">git clone ...</div><div class="line">mkdir build</div><div class="line">cmake .. -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=./install</div><div class="line">make install</div><div class="line">cd install/scripts/</div><div class="line">./run-example.sh</div></div><!-- fragment --><h3>Dependencies</h3>
<p>Super4PCS takes care of its own dependencies, and downloads them when required. As a result, <b>you may need an internet connection for the first compilation</b>.</p>
<p>The libraries and the standalone application require:</p><ul>
<li><a href="http://eigen.tuxfamily.org/">Eigen</a>. The library is automagically downloaded and configured by the cmake process. If you need to force using Eigen from a specific path, call CMAKE with <code>-DEIGEN3_INCLUDE_DIR=/path/to/eigen</code>.</li>
</ul>
<p>In order to load textures for 3d meshes, the IO module needs:</p><ul>
<li><a href="http://opencv.org/">OpenCV</a>: binaries can be downloaded from the <a href="http://opencv.org/downloads.html">OpenCV website</a>. Texture loading is disabled if OpenCV is not available. Point-clouds with colors are not affected.</li>
</ul>
<p>Tests:</p><ul>
<li><a href="http://www.boost.org/doc/libs/1_57_0/libs/filesystem/doc/index.htm">Boost-filesystem</a>, used to read dataset folders. Tests can be disabled by calling CMAKE with <code>-DSUPER4PCS_BUILD_TEST=FALSE</code>. Required Boost version: 1.57 or more.</li>
</ul>
<h3>CMake Options</h3>
<p>Our CMake scripts can be configured using the following options:</p><ul>
<li><code>OPTION (SUPER4PCS_COMPILE_TESTS "Enable testing" TRUE)</code></li>
<li><code>OPTION (SUPER4PCS_COMPILE_DEMOS "Compile demo applications (including the Super4PCS standalone)" TRUE)</code></li>
<li><code>OPTION (IO_USE_OPENCV "Use OpenCV for texture loading" TRUE)</code></li>
<li><code>OPTION (ENABLE_TIMING "Enable computation time recording" FALSE)</code></li>
<li><code>OPTION (SUPER4PCS_USE_CHEALPIX "Use Chealpix for orientation filtering (deprecated)" FALSE)</code> We recommend to keep this option to <code>FALSE</code>.</li>
<li><code>OPTION (DL_DATASETS "Download demo datasets and associated run scripts" FALSE)</code></li>
</ul>
<p>Options can be set by calling <code>cmake -DMY_OPTION=TRUE</code>, or by editing the file <a href="https://github.com/nmellado/Super4PCS/blob/master/CMakeLists.txt">CMakeList.txt</a> (not recommended).</p>
<h3>Compilation targets</h3>
<p>Our CMAKE scripts provide several targets:</p><ul>
<li><code>install</code>: build the libraries, the main application and install them to a dedicated folder alongside with demo scripts and assets. This is <b>recommended</b> target. The installation folder is by default: <code>ROOT_DIR/Super4PCS-${Super4PCS_VERSION_MAJOR}.${Super4PCS_VERSION_MINOR}</code>. It can be customized by calling cmake with <code>-DINSTALL_DIR=your_path</code>.</li>
<li><code>all</code>/<code>Super4PCS</code>: build the libraries and the main Super4PCS application,</li>
<li><code>buildtests</code>: compile tests. This target is generated only if <code>SUPER4PCS_BUILD_TEST</code> option is set to <code>TRUE</code>,</li>
<li><code>test</code>: run the tests locally</li>
<li><code>dl-datasets</code>: download the demo datasets.</li>
</ul>
<h3>Installed directories structure:</h3>
<p>After compilation and installation, you should obtain the following structure: </p><div class="fragment"><div class="line">installation-directory/</div><div class="line">  - assets     -&gt; contains the demo hippo files, and the downloaded datasets if any</div><div class="line">  - bin        -&gt; contains the main Super4PCS application</div><div class="line">  - include    -&gt; header files of the Super4PCS library</div><div class="line">  - lib        -&gt; library binaries: super4pcs_algo and super4pcs_io, and chealpix if compiled</div><div class="line">  - lib/cmake  -&gt; cmake package files</div><div class="line">  - scripts    -&gt; demo scripts allowing to register the hippo meshes</div></div><!-- fragment --><hr/>
<h3>Linux and MacOS Builds</h3>
<p>Nothing specific here, just call: </p><div class="fragment"><div class="line">mkdir build</div><div class="line">cd build</div><div class="line">cmake -DCMAKE_BUILD_TYPE=Release ..</div><div class="line">make install</div></div><!-- fragment --><hr/>
<h3>Windows Builds</h3>
<p>Super4PCS requires c++11 features and CMake support. We recommend to use Microsoft Visual Studio 2017 with <a href="https://blogs.msdn.microsoft.com/vcblog/2016/10/05/cmake-support-in-visual-studio/">CMake plugin</a>. CMake standalone is also supported (and used for Continuous Integration on AppVeyor).</p>
<p>By default, the project can be opened and compiled straight away with no parameter setting.</p>
<p>If you want to compile with OpenCV and/or Boost support, the dependency directories must be properly configured in Visual Studio. They can be set either when calling <a href="https://blogs.msdn.microsoft.com/vcblog/2016/10/05/cmake-support-in-visual-studio/#configure-cmake">CMake</a> or globally by configuring Visual Studio (see how-to <a href="https://social.msdn.microsoft.com/Forums/vstudio/en-US/a494abb8-3561-4ebe-9eb0-6f644a679862/visual-studio-2010-professional-how-to-add-include-directory-for-all-projects?forum=vcgeneral#7b5ab5f2-f793-4b0e-a18a-679948d12bdd">here</a>):</p><ul>
<li>Include directories: `<code>path-to-opencv\build\include</code>,</li>
<li>Library directories: <code>path-to-opencv\build\x64\vc14\lib</code>.</li>
</ul>
<div class="image">
<img src="https://raw.githubusercontent.com/nmellado/Super4PCS/gh-pages/images/VStudio-globalFolders.png"/>
</div>
<hr/>
<h2><a class="anchor" id="usage"></a> Use Super4PCS library in your own application</h2>
<p><b>From release v.1.1.2</b>, Super4PCS provides a CMake package, generated during the installation process. To use it in your own application, add the following lines to your project file: </p><div class="fragment"><div class="line">project(Super4PCS-externalAppTest)</div><div class="line">cmake_minimum_required(VERSION 3.3)</div><div class="line"></div><div class="line">set (CMAKE_CXX_STANDARD 11)</div><div class="line"></div><div class="line">find_package(Super4PCS REQUIRED)</div><div class="line">include_directories(${Super4PCS_INCLUDE_DIR})</div><div class="line">link_directories(${Super4PCS_LIB_DIR})</div><div class="line"></div><div class="line">add_executable(${PROJECT_NAME} main.cpp)</div><div class="line">target_link_libraries(${PROJECT_NAME} ${Super4PCS_LIBRARIES})</div><div class="line"></div><div class="line"># we also need eigen</div><div class="line">find_package( Eigen3 REQUIRED )</div><div class="line">include_directories( ${EIGEN3_INCLUDE_DIR} )</div></div><!-- fragment --><p>In addition, CMake must be ran so that <code>CMAKE_PREFIX_PATH</code> contains <code>Super4PCS_install_dir/lib/cmake</code> when compiling <code>Super4PCS-externalAppTest</code>.</p>
<p>Super4PCS files will be located in the <code>super4pcs</code> folder. For instance, to use the Super4PCS algorithm: </p><div class="fragment"><div class="line">{c++}</div><div class="line">#include &lt;super4pcs/algorithms/super4pcs.h&gt;</div></div><!-- fragment --><p> This functionality is tested by our continuous integration system. Checkout the <a href="https://github.com/nmellado/Super4PCS/tree/master/tests/externalAppTest">externalAppTest</a> for a working example.</p>
<h2><a class="anchor" id="perfs"></a> Debug mode and performances</h2>
<p>Note that we heavily use template mechanisms that requires to enable inlining in order to be efficient. Compiling in Debug mode without inlining may result in longer running time than expected. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Sep 28 2017 10:41:21 for Super4PCS Library by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
